import{_ as X,I as Z,k as ee,e as m,s as te,l as oe,f as le,o as d,c as u,b as y,a as t,a5 as ae,t as s,g as se,u as re,a6 as ne,m as i,z as v,A as b,n as h,H as de,L as ue}from"./app-CTA2o2_i.js";import{_ as ie}from"./AuthPageheader-DBoHuplQ.js";const pe={class:"p-3 md:p-4 xl:p-6"},me={class:"max-w-[920px] mx-auto bg-white rounded-xl md:rounded-2xl p-3 md:p-4 xl:p-6"},ce={class:"p-4 bg-slate-50 rounded-xl border border-slate-100"},ve={class:"text-primary text-sm font-medium"},he={class:"flex flex-col gap-2 justify-center items-center"},fe=["src"],_e={class:"flex gap-2"},be={for:"upload",class:"text-white text-sm font-normal px-2 py-1 md:px-3 md:py-2 bg-slate-800 rounded-md cursor-pointer"},ge={class:"p-3 bg-white rounded-xl border border-slate-100 mt-3"},ye={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},xe={for:"name",class:"form-label"},$e=["placeholder"],we={key:0,class:"text-red-500 text-sm"},Pe={for:"name",class:"form-label mb-2"},ke={key:0,class:"text-red-500 text-sm"},Ce={for:"phone",class:"form-label"},Ve={class:"flex"},Ue={class:"text-slate-700 text-base font-normal leading-normal bg-slate-100 p-2 border-y border-l rounded-tl-lg rounded-bl-lg flex items-center"},Me=["placeholder"],Ne={key:0,class:"text-red-500 text-sm"},De={for:"gender",class:"form-label bg-transparent"},Se={value:"",disabled:"",selected:""},Be={value:"male"},Ee={value:"female"},Te={value:"other"},je={key:0,class:"text-red-500 text-sm"},ze={for:"date",class:"form-label"},Ae={key:0,class:"text-red-500 text-sm"},Fe={for:"email",class:"form-label"},Le=["placeholder"],Oe={key:0,class:"text-red-500 text-sm"},Ie={type:"submit",class:"bg-primary px-4 md:px-6 py-2 md:py-4 rounded-lg :md:rounded-[10px] text-white mt-6"},Re={__name:"MyProfile",setup(Ge){var $,w,P,k,C,V,U,M;const x=Z(),r=ee(),o=m(null),f=m(null),_=m(!1),Y=()=>{var e;f.value=(e=r.user)==null?void 0:e.profile_photo,_.value=!1},q=e=>{f.value=URL.createObjectURL(e.target.files[0]),l.value.profile_photo=e.target.files[0],_.value=!0},l=m({name:($=r.user)==null?void 0:$.name,phone:(w=r.user)==null?void 0:w.phone,gender:(P=r.user)!=null&&P.gender?(k=r.user)==null?void 0:k.gender:"",date_of_birth:(C=r.user)==null?void 0:C.date_of_birth,email:(V=r.user)==null?void 0:V.email,profile_photo:null,phone_code:(U=r.user)==null?void 0:U.phone_code,country:(M=r.user)==null?void 0:M.country}),g=m([]),J=m(!1);te(()=>{var e,a;r.user&&(f.value=(e=r.user)==null?void 0:e.profile_photo),window.scrollTo(0,0),((a=r.user)==null?void 0:a.email)==="user@readyecommerce.com"&&(J.value=!0),K()}),oe(()=>l.value.country,e=>{const a=g.value.find(p=>p.name==e);l.value.phone_code=a==null?void 0:a.phone_code});const K=()=>{axios.get("/countries").then(e=>{g.value=e.data.data.countries})},Q={component:ue,props:{title:"Profile Updated",message:"Your profile updated successfully"}},W=()=>{const e=new FormData;e.append("name",l.value.name),e.append("phone",l.value.phone),e.append("gender",l.value.gender?l.value.gender:""),e.append("date_of_birth",l.value.date_of_birth?l.value.date_of_birth:""),e.append("email",l.value.email?l.value.email:""),e.append("country",l.value.country?l.value.country:""),e.append("phone_code",l.value.phone_code?l.value.phone_code:""),l.value.profile_photo&&e.append("profile_photo",l.value.profile_photo),axios.post("/update-profile",e,{headers:{Authorization:r.token}}).then(a=>{r.user=a.data.data.user,_.value=!1,x(Q,{type:"default",hideProgressBar:!0,icon:!1,position:"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),o.value={}}).catch(a=>{var p,c;o.value=a.response.data.errors,(p=o.value)!=null&&p.profile_photo&&x.error((c=o.value)==null?void 0:c.profile_photo[0],{position:"bottom-left"})})};return(e,a)=>{var c,N,D,S,B,E,T,j,z,A,F,L,O,I,R,G,H;const p=le("v-select");return d(),u("div",null,[y(ie,{title:e.$t("My Profile")},null,8,["title"]),t("div",pe,[t("form",{onSubmit:a[6]||(a[6]=ae(n=>W(),["prevent"]))},[t("div",me,[t("div",ce,[t("div",ve,s(e.$t("Profile Picture")),1),t("div",he,[t("img",{src:f.value,alt:"",class:"w-24 h-24 md:w-36 md:h-36 bg-white rounded-full object-cover"},null,8,fe),t("div",_e,[t("label",be,[t("input",{type:"file",id:"upload",class:"hidden",onChange:q},null,32),se(" "+s(e.$t("Change Photo")),1)]),_.value?(d(),u("button",{key:0,class:"px-2 py-1 md:px-3 md:py-2 bg-red-500 text-white rounded-md",onClick:Y},[y(re(ne),{class:"w-5 h-5"})])):i("",!0)])])]),t("div",ge,[t("div",ye,[t("div",null,[t("label",xe,s(e.$t("Name")),1),v(t("input",{type:"text",id:"name","onUpdate:modelValue":a[0]||(a[0]=n=>l.value.name=n),placeholder:e.$t("Enter name"),class:h(["form-input",o.value&&((c=o.value)!=null&&c.name)?"border-red-500":"border-slate-200"])},null,10,$e),[[b,l.value.name]]),o.value&&((N=o.value)!=null&&N.name)?(d(),u("span",we,s((D=o.value)==null?void 0:D.name[0]),1)):i("",!0)]),t("div",null,[t("label",Pe,s(e.$t("Country")),1),y(p,{options:g.value,label:"name",reduce:n=>n.name,modelValue:l.value.country,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value.country=n),placeholder:e.$t("Select Country")},null,8,["options","reduce","modelValue","placeholder"]),o.value&&((S=o.value)!=null&&S.country)?(d(),u("span",ke,s((B=o.value)==null?void 0:B.country[0]),1)):i("",!0)]),t("div",null,[t("label",Ce,s(e.$t("Mobile Number")),1),t("div",Ve,[t("span",Ue," +"+s(l.value.phone_code||"00"),1),v(t("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=n=>l.value.phone=n),placeholder:e.$t("Enter phone number"),class:h(["text-base font-normal w-full p-3 placeholder:text-slate-400 rounded-tr-lg rounded-br-lg border focus:border-primary outline-none",(E=o.value)!=null&&E.phone?"border-red-500":"border-slate-200"])},null,10,Me),[[b,l.value.phone]])]),o.value&&((T=o.value)!=null&&T.phone)?(d(),u("span",Ne,s((j=o.value)==null?void 0:j.phone[0]),1)):i("",!0)]),t("div",null,[t("label",De,s(e.$t("Gender")),1),v(t("select",{name:"gender",id:"gender","onUpdate:modelValue":a[3]||(a[3]=n=>l.value.gender=n),class:h(["form-input bg-transparent h-[52px]",o.value&&((z=o.value)!=null&&z.gender)?"border-red-500":"border-slate-200"])},[t("option",Se,s(e.$t("Select a gender")),1),t("option",Be,s(e.$t("Male")),1),t("option",Ee,s(e.$t("Female")),1),t("option",Te,s(e.$t("Other")),1)],2),[[de,l.value.gender]]),o.value&&((A=o.value)!=null&&A.gender)?(d(),u("span",je,s((F=o.value)==null?void 0:F.gender[0]),1)):i("",!0)]),t("div",null,[t("label",ze,s(e.$t("Date of Birth")),1),v(t("input",{type:"date",id:"date","onUpdate:modelValue":a[4]||(a[4]=n=>l.value.date_of_birth=n),class:h(["form-input",o.value&&((L=o.value)!=null&&L.date_of_birth)?"border-red-500":"border-slate-200"])},null,2),[[b,l.value.date_of_birth]]),o.value&&((O=o.value)!=null&&O.date_of_birth)?(d(),u("span",Ae,s((I=o.value)==null?void 0:I.date_of_birth[0]),1)):i("",!0)]),t("div",null,[t("label",Fe,s(e.$t("Email"))+" ("+s(e.$t("Optional"))+")",1),v(t("input",{type:"email",id:"email","onUpdate:modelValue":a[5]||(a[5]=n=>l.value.email=n),class:h(["form-input",o.value&&((R=o.value)!=null&&R.email)?"border-red-500":"border-slate-200"]),placeholder:e.$t("Enter email"),readonly:""},null,10,Le),[[b,l.value.email]]),o.value&&((G=o.value)!=null&&G.email)?(d(),u("span",Oe,s((H=o.value)==null?void 0:H.email[0]),1)):i("",!0)])]),t("button",Ie,s(e.$t("Update Profile")),1)])])],32)])])}}},qe=X(Re,[["__scopeId","data-v-683018f8"]]);export{qe as default};
