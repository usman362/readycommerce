import{k as O,p as V,q as z,o as f,c as y,a as e,t as o,u as s,_ as U,x as W,I as J,e as x,s as G,z as P,A as q,n as B,b as v,i as K,d as Q,V as ee,m as j,W as E,X as F,L as te,l as D,f as oe,w as T,Z as se,E as I,F as ae,r as le,$ as ne}from"./app-ERMkGSbx.js";import{_ as re,a as de}from"./CheckoutShippingAddress-BWD4twFa.js";import{r as ie}from"./TrashIcon-B51oEMVY.js";import{r as ce}from"./HomeIcon-DdJTPb3J.js";import"./AddressForm-mF02P3Kf.js";import"./AddressFormModal-BbAelGVc.js";const ue={class:"space-y-4 mt-3 transition duration-300"},me={class:"px-4 py-3 bg-slate-50 rounded-xl border border-slate-100"},pe={class:"text-slate-950 text-base font-medium leading-normal"},_e={class:"space-y-2 divide-y divide-slate-200"},he={class:"flex gap-4 justify-start w-full items-center pt-1"},ve={class:"w-[72px] h-[95px]"},fe=["src"],ye={class:"flex flex-col gap-1 w-full"},be={class:"text-primary text-xs font-normal leading-none"},xe={class:"text-slate-950 text-base font-normal leading-normal"},ge={class:"flex flex-wrap justify-between items-center gap-3"},we={class:"flex items-center gap-1"},$e={class:"min-w-8 text-center px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},ke={class:"px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},Pe={class:"text-slate-800 text-base font-normal leading-normal"},Ce={__name:"BuyNowCheckoutProduct",setup(p){O();const w=V(),t=z();return(b,g)=>{var d,u,a,m,n,r,c,$,i,k,C,l,_;return f(),y("div",ue,[e("div",me,[e("div",pe,o((u=(d=s(t).buyNowProduct)==null?void 0:d.shop)==null?void 0:u.name),1),e("div",_e,[e("div",he,[e("div",ve,[e("img",{src:(a=s(t).buyNowProduct)!=null&&a.thumbnail?(m=s(t).buyNowProduct)==null?void 0:m.thumbnail:(r=(n=s(t).buyNowProduct)==null?void 0:n.thumbnails[0])==null?void 0:r.thumbnail,class:"w-full h-full object-contain"},null,8,fe)]),e("div",ye,[e("div",be,o((c=s(t).buyNowProduct)==null?void 0:c.brand),1),e("div",xe,o(($=s(t).buyNowProduct)==null?void 0:$.name),1),e("div",ge,[e("div",we,[e("div",$e,o((i=s(t).buyNowProduct)==null?void 0:i.size),1),e("div",ke,o((k=s(t).buyNowProduct)==null?void 0:k.color),1)]),e("div",Pe," 1 X "+o(s(w).showCurrency(((C=s(t).buyNowProduct)==null?void 0:C.discount_price)>0?(l=s(t).buyNowProduct)==null?void 0:l.discount_price:(_=s(t).buyNowProduct)==null?void 0:_.price)),1)])])])])])])}}},H=p=>(E("data-v-679c1ca4"),p=p(),F(),p),Ne={class:"p-6 bg-white rounded-2xl border border-slate-200"},Se={class:"text-slate-950 text-xl font-medium leading-7"},Me={class:"my-4 flex justify-between gap-4"},Ie={class:"text-slate-950 text-base font-normal leading-normal"},Be={class:"text-slate-950 text-base font-normal leading-normal"},je={class:"my-4 flex justify-between gap-4"},Oe={class:"text-red-500 text-base font-normal leading-normal"},Ve={class:"text-slate-950 text-base font-normal leading-normal"},ze=H(()=>e("div",{class:"w-full h-[0px] border-t border-dashed border-slate-400"},null,-1)),Ae={class:"my-4 flex justify-between gap-4"},De={class:"text-slate-950 text-base font-normal leading-normal"},Te={class:"text-slate-950 text-base font-normal leading-normal"},Ue={class:"my-4 flex justify-between gap-4"},We={class:"text-slate-950 text-base font-normal leading-normal"},Ge={class:"text-slate-950 text-base font-normal leading-normal"},qe=H(()=>e("div",{class:"w-full h-[0px] border border-slate-500"},null,-1)),Ee={class:"my-4 flex justify-between gap-4"},Fe={class:"text-slate-950 text-lg font-medium leading-normal tracking-tight"},He={class:"text-slate-950 text-lg font-medium leading-normal tracking-tight"},Le={class:"p-4 mt-6 bg-slate-100 rounded-xl"},Re={class:"text-black text-base font-normal leading-normal"},Xe={class:"relative mt-2"},Ye=["placeholder"],Ze={class:"absolute top-1/2 -translate-y-1/2 left-3"},Je={__name:"BuyNowCheckoutOrderSummary",props:{note:String,paymentMethod:String},setup(p){const w=new W,t=z(),b=V(),g=O(),d=J(),u=x(!1),a=x(""),m=p,n=x({total_amount:0,coupon_discount:0,total_payable_amount:0,delivery_charge:0});G(()=>{a.value=t.coupon_code,r()});const r=()=>{t.buyNowProduct&&axios.post("/buy-now",{product_id:t.buyNowProduct.id,coupon_code:a.value,quantity:1},{headers:{Authorization:g.token}}).then(l=>{n.value=l.data.data,u.value=l.data.data.apply_coupon,u.value&&a.value.length>0?(d.success(l.data.message,{position:"bottom-left"}),t.coupon_code=a.value):!u.value&&a.value.length>0&&(d.error(l.data.message,{position:"bottom-left"}),t.coupon_code="")}).catch(l=>{d.error(l.response.data.message,{position:"bottom-left"})})},c=()=>{a.value.length>0&&r()},$=()=>{a.value="",u.value=!1,t.coupon_code="",r()},i={component:te,props:{title:"Order Placed",message:"Your order has been placed successfully."}},k=()=>{if(!t.address){d.error("Please select shipping address");return}if(m.paymentMethod==null){d.error("Please select payment method",{position:"bottom-left"});return}t.buyNowProduct?axios.post("/buy-now/place-order",{product_id:t.buyNowProduct.id,quantity:1,address_id:t.address.id,payment_method:m.paymentMethod,coupon_code:a.value,note:m.note,size:t.buyNowProduct.size??null,color:t.buyNowProduct.color??null},{headers:{Authorization:g.token}}).then(l=>{d(i,{type:"default",hideProgressBar:!0,icon:!1,position:"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),n.value.coupon_discount=0,n.value.total_payable_amount=0,n.value.delivery_charge=0,n.value.total_amount=0,t.buyNowProduct=null,t.coupon_code="";let _=l.data.data.order_payment_url;if(_!=null){C(_);return}else t.showOrderConfirmModal=!0}).catch(()=>{}):d.error("Please select at least one product",{position:"bottom-left"})},C=l=>{let _=700,N=700,L=screen.width/2-_/2,R=screen.height/2-N/2,X="popup,resizable,height="+N+",width="+_+",top="+R+",left="+L,h=window.open(l,null,X);h.title="Payment Window Screen - Make Payment",h.onload=()=>{h.title="Payment Window Screen - Make Payment"},h.focus();var S=setInterval(Y,1e3);function Y(){try{var A=h.location.pathname.replace(/\/order\/\d+/,"");if(A=="/payment/cancel"){h.close(),clearInterval(S),t.orderPaymentCancelModal=!0,d.error("Sorry! Payment Canceled",{position:"bottom-left"}),w.push({name:"home"});return}if(A=="/payment/success"){h.close(),clearInterval(S),t.showOrderConfirmModal=!0;return}(h.closed||!h)&&(clearInterval(S),h.close(),t.orderPaymentCancelModal=!0,w.push({name:"home"}))}catch{}}setTimeout(()=>{clearInterval(S),h.close()},18e4)};return(l,_)=>(f(),y("div",null,[e("div",Ne,[e("div",Se,o(l.$t("Order Summary")),1),e("div",Me,[e("div",Ie,o(l.$t("Subtotal")),1),e("div",Be,o(s(b).showCurrency(n.value.total_amount)),1)]),e("div",je,[e("div",Oe,o(l.$t("Discount")),1),e("div",Ve," -"+o(s(b).showCurrency(n.value.coupon_discount)),1)]),ze,e("div",Ae,[e("div",De,o(l.$t("Subtotal After Discount")),1),e("div",Te,o(s(b).showCurrency((n.value.total_amount-n.value.coupon_discount).toFixed(2))),1)]),e("div",Ue,[e("div",We,o(l.$t("Shipping Charge")),1),e("div",Ge,o(s(b).showCurrency(n.value.delivery_charge)),1)]),qe,e("div",Ee,[e("div",Fe,o(l.$t("Total Payable")),1),e("div",He,o(s(b).showCurrency(n.value.total_payable_amount)),1)]),e("div",Le,[e("div",Re,o(l.$t("Have a coupon"))+"? ",1),e("div",Xe,[P(e("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=N=>a.value=N),class:B(["formInputCoupon pr-14 p-3",u.value?"text-green-500 pl-10":""]),placeholder:l.$t("Enter coupon code")},null,10,Ye),[[q,a.value]]),u.value?(f(),y("button",{key:1,class:"bg-slate-100 absolute top-1/2 -translate-y-1/2 right-1.5 h-10 w-10 rounded flex justify-center items-center",onClick:$},[v(s(ie),{class:"w-6 h-6 text-red-500"})])):(f(),y("button",{key:0,class:"bg-slate-700 absolute top-1/2 -translate-y-1/2 right-1.5 h-10 w-10 rounded flex justify-center items-center",onClick:c},[v(s(K),{class:"w-6 h-6 text-white"})])),e("span",Ze,[u.value?(f(),Q(s(ee),{key:0,class:"w-6 h-6 text-green-500"})):j("",!0)])])])]),e("button",{class:"px-6 py-4 w-full mt-4 bg-primary rounded-[10px] text-white text-base font-medium",onClick:k}," Place Order "),v(re)]))}},Ke=U(Je,[["__scopeId","data-v-679c1ca4"]]),M=p=>(E("data-v-87013513"),p=p(),F(),p),Qe={class:"main-container"},et={class:"flex items-center gap-2 overflow-hidden pt-4"},tt={class:"grow w-full overflow-hidden"},ot={class:"space-x-1 text-slate-600 text-sm font-normal truncate"},st=M(()=>e("span",null,"/",-1)),at=M(()=>e("span",null,"/",-1)),lt={class:"grid grid-cols-1 xl:grid-cols-3 my-3 gap-8"},nt={class:"col-span-1 xl:col-span-2"},rt={class:"flex gap-2 justify-between items-center"},dt={class:"text-slate-950 text-lg sm:text-3xl font-medium leading-10"},it={class:"text-primary-600 text-lg font-medium leading-normal tracking-tight"},ct={key:0},ut={class:"mt-6"},mt={class:"mb-1"},pt={class:"text-slate-950 text-xl font-medium leading-7"},_t={class:"text-slate-500 text-lg font-normal leading-7 tracking-tight"},ht=["placeholder"],vt={class:"p-6 mt-4 bg-white rounded-2xl border border-slate-200"},ft={class:"text-slate-950 text-xl font-medium leading-7"},yt={class:"mt-4 flex flex-wrap gap-4"},bt={for:"cash",class:"flex items-center gap-4 xl:min-w-80"},xt=M(()=>e("div",{class:"p-2 bg-white rounded-xl border border-slate-200"},[e("img",{src:"assets/icons/money-2.svg",alt:"",class:"w-7 h-7"})],-1)),gt={class:"text-slate-500 text-base font-normal leading-normal"},wt={for:"card",class:"flex items-center gap-4 xl:min-w-80"},$t=M(()=>e("div",{class:"p-2 bg-white rounded-xl border border-slate-200"},[e("img",{src:"assets/icons/card.svg",alt:"",class:"w-7 h-7"})],-1)),kt={class:"text-slate-500 text-base font-normal leading-normal"},Pt={key:0,class:"mt-5 border-t border-slate-200"},Ct={class:"text-slate-600 pt-2 block text-md font-medium leading-7"},Nt={class:"mt-3 flex flex-wrap gap-4"},St=["for"],Mt=["id","value"],It={class:""},Bt=["src"],jt={__name:"BuyNow",setup(p){const w=new W,t=O(),b=V(),g=z(),d=x(!0),u=x(""),a=x("cash"),m=x(null),n=x(null);return G(()=>{window.scrollTo(0,0),g.coupon_code="",m.value=a.value,t.user||w.push({name:"home"})}),D(a,()=>{a.value==="card"?m.value=n.value:m.value=a.value}),D(n,()=>{a.value==="card"&&(m.value=n.value)}),(r,c)=>{const $=oe("router-link");return f(),y("div",Qe,[e("div",et,[v($,{to:"/",class:"w-6 h-6"},{default:T(()=>[v(s(ce),{class:"w-5 h-5 text-slate-600"})]),_:1}),e("div",tt,[e("div",ot,[e("span",null,o(r.$t("Home")),1),st,e("span",null,o(r.$t("Cart")),1),at,e("span",null,o(r.$t("Checkout")),1)])])]),e("div",lt,[e("div",nt,[e("div",{class:B(["py-4 border-b tran",d.value?"border-primary":"border-slate-200"])},[e("div",rt,[e("div",dt,o(r.$t("Checkout")),1),e("div",{class:"flex items-center gap-2 cursor-pointer",onClick:c[0]||(c[0]=i=>d.value=!d.value)},[e("div",it," ("+o(s(g).buyNowProduct?1:0)+" "+o(r.$t("items"))+") ",1),v(s(se),{class:B(["w-5 h-5 text-primary-600 transition duration-300",d.value?"rotate-180":""])},null,8,["class"])])]),d.value&&s(g).buyNowProduct?(f(),y("div",ct,[v(Ce)])):j("",!0)],2),v(de),e("div",ut,[e("div",mt,[e("span",pt,o(r.$t("Note")),1),e("span",_t," ("+o(r.$t("Optional"))+") ",1)]),P(e("textarea",{"onUpdate:modelValue":c[1]||(c[1]=i=>u.value=i),rows:"3",class:"form-input",placeholder:r.$t("Write your note here")+"..."},null,8,ht),[[q,u.value]])]),e("div",vt,[e("div",ft,o(r.$t("Payment Method")),1),e("div",yt,[e("label",bt,[P(e("input",{"onUpdate:modelValue":c[2]||(c[2]=i=>a.value=i),id:"cash",name:"payment",type:"radio",class:"radioBtn2",value:"cash",checked:""},null,512),[[I,a.value]]),xt,e("span",gt,o(r.$t("Cash on delivery")),1)]),e("label",wt,[P(e("input",{"onUpdate:modelValue":c[3]||(c[3]=i=>a.value=i),id:"card",name:"payment",type:"radio",class:"radioBtn2",value:"card"},null,512),[[I,a.value]]),$t,e("span",kt,o(r.$t("Credit or Debit Card")),1)])]),v(ne,{"leave-active-class":"transition ease-in duration-300","enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:T(()=>[a.value==="card"?(f(),y("div",Pt,[e("span",Ct,o(r.$t("Available Payment Gateways")),1),e("div",Nt,[(f(!0),y(ae,null,le(s(b).paymentGateways,i=>(f(),y("label",{key:i.id,for:i.name,class:"flex items-center gap-4 border relative has-[:checked]:border-primary has-[:checked]:shadow-lg p-2 rounded-md border-slate-200 cursor-pointer"},[P(e("input",{"onUpdate:modelValue":c[4]||(c[4]=k=>n.value=k),id:i.name,name:"paymentGateway",type:"radio",class:"sr-only",value:i.name},null,8,Mt),[[I,n.value]]),e("div",It,[e("img",{src:i.logo,alt:"",class:"w-32 h-16 object-contain"},null,8,Bt)])],8,St))),128))])])):j("",!0)]),_:1})])]),v(Ke,{note:u.value,paymentMethod:m.value},null,8,["note","paymentMethod"])])])}}},Ut=U(jt,[["__scopeId","data-v-87013513"]]);export{Ut as default};
