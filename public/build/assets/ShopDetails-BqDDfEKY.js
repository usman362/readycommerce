import{p as ue,x as ce,y as ve,e as l,l as pe,s as ge,f as z,o,c as i,a as e,t as s,n as f,F as h,r as w,b as r,u as P,j as me,w as m,g as N,z as _e,A as fe,B as he,d as we,m as x}from"./app-CWxLDjx2.js";import{S as xe,d as be}from"./swiper-B487uROQ.js";import{_ as ye,a as ke,f as $e}from"./free-mode-BqPbTmjl.js";import{_ as Re}from"./ProductCard-KsQAY8qh.js";import{_ as Ve}from"./CategoryCard-wa3htNxE.js";const Pe={class:""},Ce={class:"h-56 md:h-64 w-full"},Be=["src"],je={class:"main-container relative bg-primary-50 py-10 pt-24"},Se={class:"-top-32 sm:-top-28 lg:-top-[108px] absolute left-0 right-0 main-container"},Te={class:"w-full p-6 bg-white rounded-2xl shadow flex-col gap-2 sm:gap-6 flex"},Me={class:"flex justify-between w-full gap-3 sm:gap-6 flex-wrap sm:flex-nowrap"},ze={class:"flex grow gap-6"},Ne={class:"w-16 h-16 md:w-[88px] md:h-[88px] rounded-full overflow-hidden shrink-0"},De=["src"],Fe={class:"flex flex-col items-start gap-2"},Le={class:"flex justify-start items-center w-full gap-2"},He={class:"text-slate-950 text-lg font-bold leading-normal tracking-tight"},Ue={class:"flex justify-start items-center gap-4"},Ae={class:"text-slate-500 text-base font-normal leading-normal"},Ee=e("div",{class:"h-3 w-[0px] border text-slate-300"},null,-1),Ie={class:"text-slate-500 text-base font-normal leading-normal text-center"},Oe={class:"text-slate-500 text-sm font-normal leading-tight"},qe=["innerHTML"],Ge={class:"sm:border-l border-slate-200 w-full sm:w-[156px] md:w-[184px] flex flex-row-reverse sm:flex-col justify-center sm:justify-start items-center gap-2"},Je={class:"flex gap-1"},Ke={class:"text-slate-800 text-base font-bold leading-normal"},Qe={class:"text-slate-500 text-base font-normal leading-normal"},We={class:"flex"},Xe={class:"flex justify-between items-center w-full"},Ye={class:"lg:w-[448px] relative hidden sm:block"},Ze=["placeholder"],et={class:"pt-10"},tt=["src"],st={class:"main-container py-10 pt-24"},at={class:"mt-12"},lt={key:0,class:"w-full"},ot={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 items-start"},nt={key:0,class:"text-slate-950 text-xl font-medium leading-7"},it={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},rt={class:"text-slate-800 text-base font-normal leading-normal"},dt={key:1,class:"w-full"},ut={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 xl:grid-cols-6 2xl:grid-cols-7 gap-6 items-start"},ct={key:2,class:"w-full"},vt={class:"grid grid-cols-1 xl:grid-cols-2 gap-8 items-start"},pt={class:"text-slate-950 text-xl font-medium leading-7"},gt=e("div",{class:"text-slate-950 text-xl font-medium leading-7"},"Reviews",-1),mt={class:"mt-4"},_t={key:0,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},ft={class:"text-slate-800 text-base font-normal leading-normal"},$t={__name:"ShopDetails",setup(ht){const Y=ue(),Z=new ce,b=ve(),ee=[$e],D=l(!0),c=l(!0),v=l(!1),p=l(!1),u=l(1),y=l(12),te=t=>{u.value=t,T()},k=l(5),g=l(1),se=t=>{g.value=t,F()},n=l({}),C=l([]),$=l([]),B=l(0),j=l({}),R=l(0),S=l([]),V=l(""),ae=()=>{u.value=1,c.value=!0,v.value=!1,p.value=!1,T()};pe(V,()=>{ae()}),ge(()=>{if(D.value=!1,!Y.multiVendor){Z.push("/");return}ne(),window.scrollTo(0,0),T()});const le=()=>{c.value=!1,v.value=!0,p.value=!1,ie()},oe=()=>{c.value=!1,v.value=!1,p.value=!0,F()},ne=async()=>{axios.get("/shops/"+b.params.id).then(t=>{n.value=t.data.data.shop})},T=async()=>{axios.get("/products",{params:{shop_id:b.params.id,page:u.value,per_page:y.value,search:V.value}}).then(t=>{B.value=t.data.data.total,$.value=t.data.data.products})},ie=async()=>{C.value.length===0&&axios.get("/shop-categories",{params:{shop_id:b.params.id}}).then(t=>{C.value=t.data.data.categories})},F=async()=>{axios.get("/reviews",{params:{shop_id:b.params.id,page:g.value,per_page:k.value}}).then(t=>{R.value=t.data.data.total,S.value=t.data.data.reviews,j.value=t.data.data.average_rating_percentage})},re={320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:10},1024:{slidesPerView:2,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}};return(t,d)=>{var H,U,A,E,I,O,q,G,J,K,Q,W,X;const M=z("Button"),L=z("vue-awesome-paginate"),de=z("router-link");return o(),i("div",Pe,[e("div",Ce,[e("img",{src:(H=n.value)==null?void 0:H.banner,loading:"lazy",class:"w-full h-full object-cover"},null,8,Be)]),e("div",je,[e("div",Se,[e("div",Te,[e("div",Me,[e("div",ze,[e("div",Ne,[e("img",{src:(U=n.value)==null?void 0:U.logo,loading:"lazy",class:"w-full h-full object-cover"},null,8,De)]),e("div",Fe,[e("div",Le,[e("div",He,s((A=n.value)==null?void 0:A.name),1),e("div",{class:f(["px-1 py-0.5 rounded-[10px] text-white text-xs font-normal leading-none",((E=n.value)==null?void 0:E.shop_status)==="Online"?"bg-lime-600":"bg-slate-500"])},s((I=n.value)==null?void 0:I.shop_status),3)]),e("div",Ue,[e("div",Ae,s((O=n.value)==null?void 0:O.total_products)+"+ Items ",1),Ee,e("div",Ie,s((q=n.value)==null?void 0:q.total_categories)+"+ Categorise ",1)]),e("div",Oe,[e("div",{innerHTML:(G=n.value)==null?void 0:G.description},null,8,qe)])])]),e("div",Ge,[e("div",Je,[e("div",Ke,s((K=(J=n.value)==null?void 0:J.rating)==null?void 0:K.toFixed(1)),1),e("div",Qe," ("+s((Q=n.value)==null?void 0:Q.total_reviews)+") ",1)]),e("div",We,[(o(),i(h,null,w(5,a=>{var _;return r(P(me),{key:a,class:f(["w-4 h-4",a<=((_=n.value)==null?void 0:_.rating)?"text-amber-500":"text-gray-300"])},null,8,["class"])}),64))])])]),e("div",Xe,[e("div",null,[r(M,{class:f(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",c.value?"text-white bg-primary":"text-slate-600"]),onClick:d[0]||(d[0]=a=>{c.value=!0,p.value=!1,v.value=!1})},{default:m(()=>[N(s(t.$t("All Products")),1)]),_:1},8,["class"]),r(M,{class:f(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",v.value?"text-white bg-primary":"text-slate-600"]),onClick:d[1]||(d[1]=a=>le())},{default:m(()=>[N(s(t.$t("Categories")),1)]),_:1},8,["class"]),r(M,{class:f(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",p.value?"text-white bg-primary":"text-slate-600"]),onClick:oe},{default:m(()=>[N(s(t.$t("Reviews")),1)]),_:1},8,["class"])]),e("div",Ye,[_e(e("input",{type:"text",placeholder:t.$t("Search product"),class:"p-3 pr-10 bg-slate-100 rounded-lg border border-slate-200 w-full outline-none focus:border-primary transition duration-300","onUpdate:modelValue":d[2]||(d[2]=a=>V.value=a)},null,8,Ze),[[fe,V.value]]),r(P(he),{class:"w-6 h-6 absolute top-1/2 right-3 -translate-y-1/2 text-slate-400"})])])])]),e("div",et,[r(P(be),{breakpoints:re,spaceBetween:30,freeMode:!0,modules:ee},{default:m(()=>{var a;return[(o(!0),i(h,null,w((a=n.value)==null?void 0:a.banners,_=>(o(),we(P(xe),{key:_.id},{default:m(()=>[e("img",{src:_.thumbnail,alt:"banner",loading:"lazy",class:"aspect-[6/2] rounded-xl"},null,8,tt)]),_:2},1024))),128))]}),_:1})])]),e("div",st,[e("div",at,[c.value?(o(),i("div",lt,[e("div",ot,[(o(!0),i(h,null,w($.value,a=>(o(),i("div",{key:a.id,class:"w-full"},[r(Re,{product:a},null,8,["product"])]))),128)),$.value.length==0?(o(),i("div",nt,s(t.$t("No Products Found")),1)):x("",!0)]),e("div",it,[e("div",rt,s(t.$t("Showing"))+" "+s(y.value*(u.value-1)+1)+" "+s(t.$t("to"))+" "+s(y.value*(u.value-1)+$.value.length)+" "+s(t.$t("of"))+" "+s(B.value)+" "+s(t.$t("results")),1),e("div",null,[r(L,{"total-items":B.value,"items-per-page":y.value,type:"button","max-pages-shown":5,modelValue:u.value,"onUpdate:modelValue":d[3]||(d[3]=a=>u.value=a),"hide-prev-next-when-ends":!0,onClick:te},null,8,["total-items","items-per-page","modelValue"])])])])):x("",!0),v.value?(o(),i("div",dt,[e("div",ut,[(o(!0),i(h,null,w(C.value,a=>(o(),i("div",{key:a.id,class:"w-full"},[r(de,{to:`/shops/${n.value.id}/categories/${a.slug}`,class:"w-full"},{default:m(()=>[r(Ve,{category:a},null,8,["category"])]),_:2},1032,["to"])]))),128))])])):x("",!0),p.value?(o(),i("div",ct,[e("div",vt,[e("div",null,[e("div",pt,s(t.$t("Rating and Review")),1),r(ye,{reviewRatings:(W=j.value)==null?void 0:W.percentages,avarageRating:(X=j.value)==null?void 0:X.rating,totalReview:R.value},null,8,["reviewRatings","avarageRating","totalReview"])]),e("div",null,[gt,e("div",mt,[(o(!0),i(h,null,w(S.value,a=>(o(),i("div",{key:a.id,class:"mb-4"},[r(ke,{review:a},null,8,["review"])]))),128)),D.value?x("",!0):(o(),i("div",_t,[e("div",ft,s(t.$t("Showing"))+" "+s(k.value*(g.value-1)+1)+" "+s(t.$t("to"))+" "+s(k.value*(g.value-1)+S.value.length)+" "+s(t.$t("of"))+" "+s(R.value)+" "+s(t.$t("results")),1),e("div",null,[r(L,{"total-items":R.value,"items-per-page":k.value,type:"button","max-pages-shown":3,modelValue:g.value,"onUpdate:modelValue":d[4]||(d[4]=a=>g.value=a),"hide-prev-next-when-ends":!0,onClick:se},null,8,["total-items","items-per-page","modelValue"])])]))])])])])):x("",!0)])])])}}};export{$t as default};
